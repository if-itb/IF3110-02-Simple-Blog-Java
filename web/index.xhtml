<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title"><title>Simple Blog</title></ui:define>
                <ui:define name="content">
                    <div id="home">
                        <div class="posts">
                            <nav class="art-list">
                              <ul class="art-list-body">
                                  <h:dataTable value="#{Pages.pagelist}" var="item">
                                      <li class="art-list-item">
                                          <div class="art-list-item-title-and-time">
                                              <h2 class="art-list-title">
                                                  <h:commandLink action="post" id="#{item.id}">
                                                      <f:param name="id" value="#{item.id}" />
                                                      <h:outputText value="#{item.title}" />
                                                  </h:commandLink>
                                              </h2>
                                              <div class="art-list-time">
                                                  <h:outputText value="{item.date}">
                                                      <f:convertDateTime pattern="dd-mm-yyyy" />
                                                  </h:outputText>
                                              </div>
                                          </div>
                                          <p>#{item.content}</p>
                                          <p class="editable" id="#{item.id}">
                                              <h:commandLink action="edit_post" id="#{item.id}">
                                                      <f:param name="id" value="#{item.id}" />
                                                      <h:outputText value="Edit" />
                                              </h:commandLink> | <h:commandLink
                                                  action="#" 
                                                  onclick="return confirm('Yakin ingin menghapus post ini?')"
                                                  ><f:param value="#{item.id}" />
                                                  <h:outputText value="Hapus" />
                                              </h:commandLink>
                                          </p>
                                      </li>
                                  </h:dataTable>
                            </ul>
                          </nav>
                      </div>
                    </div>
                </ui:define>
    <ui:define name="jscript">
        <h:outputScript library="js" name="resources/js/fittext.js" />
        <script src="resources/js/fittext.js" type="text/javascript"></script>
        <script src="resources/js/app.js" type="text/javascript"></script>
        <h:outputScript library="js" name="resources/js/app.js" />
        <h:outputScript library="js" name="resources/js/respond.min.js" />
        <h:outputScript library="js" name="resources/js/post.js" />
    </ui:define>
</ui:composition>
